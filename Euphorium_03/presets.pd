#N canvas 302 74 1098 556 12;
#X obj 880 114 text define state;
#X floatatom 160 7 5 0 0 0 - - - 0;
#X obj 160 75 pack s f;
#X obj 178 321 text search state;
#X floatatom 270 6 5 0 0 0 - - - 0;
#X msg 270 27 timbre \$1;
#X obj 160 99 s presets;
#X obj 142 140 r presets;
#X obj 178 277 unpack s f;
#X listbox 178 299 9 0 0 0 - - - 0;
#X floatatom 245 299 5 0 0 0 - - - 0;
#X floatatom 178 418 5 0 0 0 - - - 0;
#X obj 178 441 + 1;
#X msg 880 77 clear;
#X msg 931 78 write ./state.txt;
#X msg 704 149 read ./state.txt;
#X text 634 417 Define text file called "states" to store presets. TO DO: change this file dynamically to store different presets., f 28;
#X text 257 68 Route parameters to store as [s f] list to [send], f 17;
#X text -3 368 Receive parameter and write it to the top of the text file, f 14;
#X text 304 267 Search for existing parameter entry and return its line number in the text file, f 18;
#X obj 178 345 moses 0;
#X obj 178 369 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 178 393 text size state;
#X text 305 362 If text file is empty \, add parameter to line 1 \; else add a new line and store the parameter, f 27;
#X text 704 130 load presets;
#X text 969 55 save presets;
#X obj 704 222 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 704 258 text sequence state;
#X msg 736 222 line 0;
#X msg 704 293 \; \$1 \$2;
#X text 789 209 output all stored values as [s f] starting from line 0, f 21;
#X obj 704 -6 loadbang;
#X obj 687 337 print Presets loaded;
#X msg 160 29 prescaler \$1;
#X obj 142 470 text set state 2;
#X obj 214 239 print presetReceived;
#X obj 214 216 list trim;
#X obj 715 69 r reload;
#X obj 704 98 t b b;
#X obj 704 173 t b b;
#X obj 691 68 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 929 40 r save;
#X obj 704 17 t b b;
#X obj 736 42 s initialiseTrill;
#X connect 1 0 33 0;
#X connect 2 0 6 0;
#X connect 3 0 20 0;
#X connect 4 0 5 0;
#X connect 5 0 2 0;
#X connect 7 0 36 0;
#X connect 7 0 8 0;
#X connect 7 0 34 0;
#X connect 8 0 9 0;
#X connect 8 1 10 0;
#X connect 9 0 3 0;
#X connect 11 0 12 0;
#X connect 12 0 34 1;
#X connect 13 0 0 0;
#X connect 14 0 0 0;
#X connect 15 0 0 0;
#X connect 15 0 39 0;
#X connect 20 0 21 0;
#X connect 20 1 34 1;
#X connect 21 0 22 0;
#X connect 22 0 11 0;
#X connect 26 0 27 0;
#X connect 27 0 29 0;
#X connect 27 0 32 0;
#X connect 28 0 27 0;
#X connect 31 0 42 0;
#X connect 33 0 2 0;
#X connect 36 0 35 0;
#X connect 37 0 38 0;
#X connect 38 0 15 0;
#X connect 38 1 14 0;
#X connect 39 0 26 0;
#X connect 39 1 28 0;
#X connect 40 0 38 0;
#X connect 41 0 14 0;
#X connect 42 0 40 0;
#X connect 42 1 43 0;
